<!--
 date: 23/01/2018
 author: Andre' Neto

 copyright: Copyright 2017 F4E | European Joint Undertaking for ITER and
 the Development of Fusion Energy ('Fusion for Energy').
 Licensed under the EUPL, Version 1.1 or - as soon they will be approved
 by the European Commission - subsequent versions of the EUPL (the "Licence")
 You may not use this work except in compliance with the Licence.
 You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl

 warning: Unless required by applicable law or agreed to in writing,
 software distributed under the Licence is distributed on an "AS IS"
 basis, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 or implied. See the Licence permissions and limitations under the Licence.
-->

<html>

<head>
  <!-- Standard imports -->

  <!-- Project imports -->
  <link rel="import" href="/libraries.html">

  <!-- Templates list -->
  <script id="template-single" type="text/template">
    <div class="table-single">
      <div class="row">
        <div class="col-single">
          <h5>
          </h5>
          <div class="table">
          </div>
        </div>
      </div>
    </div>
  </script>

  <script id="template-tabcontent" type="text/template">
    <div id="newTabContent" class="tabcontent">
    </div>
  </script>

  <!-- Custom CSS style -->
  <style>
    .tab {
      overflow: hidden;
      /* border: 1px solid #999; */
      background-color: #aaa;
    }

    /* Style the buttons inside the tab */
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
      background-color: #ccc;
    }

    /* Create an active/current tablink class */
    .tab button.active {
      background-color: #ffffff;
    }

    .configcontent {
      padding: 6px 12px;
      border: 2px solid #666;
      margin-top: 5px;
    }

    .tabcontent {
      padding: 6px 12px;
      display: none;
      border-bottom: 1px solid #999;
      background-color: white;
    }

    .table {
      display: table;
      width: 90%;
      height: fit-content;
      table-layout: fixed;
      margin-left: auto;
      margin-right: auto;
    }

    .col {
      display: table-cell;
      padding: 2px 16px;
      height: 100%;
      border: 1px solid #cacaca;
    }

    .col-40 {
      float: left;
      width: 40%;
      margin-top: 3px;
      margin-bottom: 3px;
    }

    .col-60 {
      float: left;
      width: 60%;
      margin-top: 3px;
      margin-bottom: 3px;
    }

    .row {
      display: table-row;
    }

    .table-single {
      display: table;
      width: 90%;
      height: fit-content;
      table-layout: fixed;
    }

    .col-single {
      float: left;
      padding: 2px 16px;
      width: 50%;
      border: 1px solid #cacaca;
    }

    .grey {
      background-color: #f2f2f2
    }

    .hidden {
      display: none
    }
  </style>
</head>

<body>
  <!-- Intro description -->
  <div style="padding-left: 10px;" id="intro">
    <h2><b>Hieratika Plant Builder</b></h2>
    <p>A tool for creating Plant Configurations. Automatically generates the <i>plant.xml</i> file using ITER PSPS configuration model.</p>
    <div align="center">
      <button type="button" onclick="newConfig()" id="btnNewConfig">START</button>
    </div>
  </div>
  <div class="hidden" style="padding-left: 10px;" id="instructions">
    <h2><b>New Configuration</b></h2>
    <p>Insert all the Plant information below and create a new Plant Configuration.
  </div>

  <!-- PSPS Plant description form -->
  <div class="table-single hidden" id="plantDetailsForm">
    <div class="row">
      <div class="col-single">
        <h5>
        </h5>
        <div class="table">
          <div class="row grey">
            <div class="col-40">
              Plant Name:
            </div>
            <div class="col-60">
              <input type="text" name="plantName" placeholder="FALCON" id="pName">
            </div>
          </div>
          <div class="row grey">
            <div class="col-40">
              Plant Description:
            </div>
            <div class="col-60">
              <input type="text" name="plantDescription" placeholder="FALCON Configuration for Pulse 5185" id="pDesc">
            </div>
          </div>
          <div class="row grey">
            <div class="col-40">
              Schema Version:
            </div>
            <div class="col-60">
              <input type="text" name="schemaVersion" value="1.2" id="sVersion" disabled>
            </div>
          </div>
          <div class="row grey">
            <div class="col-40">
              SDD Version:
            </div>
            <div class="col-60">
              <input type="text" name="sddVersion" value="1" id="sdd" disabled>
            </div>
          </div>
          <div class="row grey">
            <div class="col-40">
              Plant Version:
            </div>
            <div class="col-60">
              <input type="text" name="plantVersion" placeholder="00.00" id="pVersion">
            </div>
          </div>
          <div class="row">
            <div class="col-40">

            </div>
            <div class="col-60">
              <button type="button" onclick="savePlantDetails()">SAVE</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="table-single hidden" id="addPlant">
    <h3><b>Plant Systems</b></h3>
    <p>Add a new Plant System. The HTML preview is showed below.</p>
    <div class="row">
      <div class="col-single">
        <h5>
        </h5>
        <div class="table">
          <div class="row grey">
            <div class="col-40">
              Plant System Name:
            </div>
            <div class="col-60">
              <input type="text" name="plantSysName" placeholder="RU_MAIN" id="psName">
            </div>
          </div>
          <div class="row grey">
            <div class="col-40">
              Plant System Description:
            </div>
            <div class="col-60">
              <input type="text" name="plantSysDescription" placeholder="Falcon configuration structure for RU_Main" id="psDesc">
            </div>
          </div>
          <div class="row grey">
            <div class="col-40">
              Plant System Version:
            </div>
            <div class="col-60">
              <input type="text" name="schemaSysVersion" value="1.0" id="psVersion">
            </div>
          </div>
          <div class="row">
            <div class="col-40">

            </div>
            <div class="col-60">
              <button type="button" onclick="addPlantSystem()">ADD PLANT SYSTEM</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <h3>Generated HTML</h3>
  </div>

  <!-- Generated HTML Container -->
  <div class="configcontent hidden" id="configdiv">
    <div class="tab">
      <!-- Using DNA Template  -->
      <button class="tablinks" template="[tabList]" z-var="value ., value @id, value @onclick" onclick="openTab(event, '${value}_tab')"></button>
    </div>

  </div>

  <!-- Custom Javascript  -->
  <script type="text/javascript" src="/js/builder.js"></script>
  <!-- jQuery DNA Template  -->
  <script src="/js/jquery.template.min.js"></script>

</body>

</html>
